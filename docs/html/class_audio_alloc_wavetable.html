<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Teensy Wavetable Synthesis: AudioAllocWavetable Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Teensy Wavetable Synthesis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_audio_alloc_wavetable-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AudioAllocWavetable Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a61205c1d08b1eb5ad1cb41ec5ed4c3e5"><td class="memItemLeft" align="right" valign="top"><a id="a61205c1d08b1eb5ad1cb41ec5ed4c3e5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_alloc_wavetable.html#a61205c1d08b1eb5ad1cb41ec5ed4c3e5">AudioAllocWavetable</a> (void)</td></tr>
<tr class="memdesc:a61205c1d08b1eb5ad1cb41ec5ed4c3e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class constructor. <br /></td></tr>
<tr class="separator:a61205c1d08b1eb5ad1cb41ec5ed4c3e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebe7f5c8a6ff6775f7f9afa5b3e20bd3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_alloc_wavetable.html#aebe7f5c8a6ff6775f7f9afa5b3e20bd3">init</a> (<a class="el" href="class_audio_synth_wavetable.html">AudioSynthWavetable</a> *voices, uint8_t num_voices, sample_data *wavetable, int num_samples, float amp)</td></tr>
<tr class="memdesc:aebe7f5c8a6ff6775f7f9afa5b3e20bd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the allocator.  <a href="#aebe7f5c8a6ff6775f7f9afa5b3e20bd3">More...</a><br /></td></tr>
<tr class="separator:aebe7f5c8a6ff6775f7f9afa5b3e20bd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa542badceb41b01d7fa68667459acd8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_alloc_wavetable.html#aa542badceb41b01d7fa68667459acd8c">setSamples</a> (sample_data *samples, int num_samples)</td></tr>
<tr class="memdesc:aa542badceb41b01d7fa68667459acd8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the sample data for each voice.  <a href="#aa542badceb41b01d7fa68667459acd8c">More...</a><br /></td></tr>
<tr class="separator:aa542badceb41b01d7fa68667459acd8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4823908b83347d5c4d434923db3acf7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_alloc_wavetable.html#a4823908b83347d5c4d434923db3acf7a">setAmplitude</a> (float amp)</td></tr>
<tr class="memdesc:a4823908b83347d5c4d434923db3acf7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the amplitude for each voice.  <a href="#a4823908b83347d5c4d434923db3acf7a">More...</a><br /></td></tr>
<tr class="separator:a4823908b83347d5c4d434923db3acf7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae118f3ddab29319ff4e88189fd464666"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_alloc_wavetable.html#ae118f3ddab29319ff4e88189fd464666">playFreq</a> (float freq)</td></tr>
<tr class="memdesc:ae118f3ddab29319ff4e88189fd464666"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find an available voice and instruct it to play at the specified frequency.  <a href="#ae118f3ddab29319ff4e88189fd464666">More...</a><br /></td></tr>
<tr class="separator:ae118f3ddab29319ff4e88189fd464666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a258b2194f7e83367b6784eca4d15bbad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_alloc_wavetable.html#a258b2194f7e83367b6784eca4d15bbad">playNote</a> (int note)</td></tr>
<tr class="memdesc:a258b2194f7e83367b6784eca4d15bbad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find an available voice and instruct it to play the specified note.  <a href="#a258b2194f7e83367b6784eca4d15bbad">More...</a><br /></td></tr>
<tr class="separator:a258b2194f7e83367b6784eca4d15bbad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada7841b533dec057bda2a0bb81bafabf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_alloc_wavetable.html#ada7841b533dec057bda2a0bb81bafabf">stopFreq</a> (float freq)</td></tr>
<tr class="memdesc:ada7841b533dec057bda2a0bb81bafabf"><td class="mdescLeft">&#160;</td><td class="mdescRight">If a voice is playing at the specified frequency, stop it.  <a href="#ada7841b533dec057bda2a0bb81bafabf">More...</a><br /></td></tr>
<tr class="separator:ada7841b533dec057bda2a0bb81bafabf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3deefd0d46c2acb47269f9d3ac5311c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_alloc_wavetable.html#ad3deefd0d46c2acb47269f9d3ac5311c">stopNote</a> (int note)</td></tr>
<tr class="memdesc:ad3deefd0d46c2acb47269f9d3ac5311c"><td class="mdescLeft">&#160;</td><td class="mdescRight">If a voice is playing the specified note, stop it.  <a href="#ad3deefd0d46c2acb47269f9d3ac5311c">More...</a><br /></td></tr>
<tr class="separator:ad3deefd0d46c2acb47269f9d3ac5311c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2337398aa6a7c8ef16646ace2d001630"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_alloc_wavetable.html#a2337398aa6a7c8ef16646ace2d001630">voicesPlaying</a> (void)</td></tr>
<tr class="separator:a2337398aa6a7c8ef16646ace2d001630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09680151d484d44f9da410f55375bb45"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_alloc_wavetable.html#a09680151d484d44f9da410f55375bb45">getAmplitude</a> ()</td></tr>
<tr class="separator:a09680151d484d44f9da410f55375bb45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab144ffd6b306309d00159761360c404f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_alloc_wavetable.html#ab144ffd6b306309d00159761360c404f">getFrequency</a> (uint8_t index)</td></tr>
<tr class="separator:ab144ffd6b306309d00159761360c404f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a09680151d484d44f9da410f55375bb45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09680151d484d44f9da410f55375bb45">&#9670;&nbsp;</a></span>getAmplitude()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float AudioAllocWavetable::getAmplitude </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the current amplitude settings. </dd></dl>

</div>
</div>
<a id="ab144ffd6b306309d00159761360c404f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab144ffd6b306309d00159761360c404f">&#9670;&nbsp;</a></span>getFrequency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float AudioAllocWavetable::getFrequency </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>the index of a voice (between 0 and the number of voices allocated minus 1). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the frequency that voice is playing (or -1 if voice is idle). </dd></dl>

</div>
</div>
<a id="aebe7f5c8a6ff6775f7f9afa5b3e20bd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebe7f5c8a6ff6775f7f9afa5b3e20bd3">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AudioAllocWavetable::init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_audio_synth_wavetable.html">AudioSynthWavetable</a> *&#160;</td>
          <td class="paramname"><em>voices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>num_voices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sample_data *&#160;</td>
          <td class="paramname"><em>wavetable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>amp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the allocator. </p>
<p>Each voice is initialized to the same sample data set and amplitude. The allocator is meant to be used as an interface to an array of "homogenic" voices. Therefore, when using allocator, voice settings should not be altered on an individual basis.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voices</td><td>an array of <a class="el" href="class_audio_synth_wavetable.html">AudioSynthWavetable</a> objects to manage. </td></tr>
    <tr><td class="paramname">num_voices</td><td>the length of 'voices'. </td></tr>
    <tr><td class="paramname">wavetable</td><td>an array of samples from a decoded SoundFont file. </td></tr>
    <tr><td class="paramname">num_samples</td><td>the length of 'samples'. </td></tr>
    <tr><td class="paramname">amp</td><td>the amplitude for each voice (between 0.0 and 1.0). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae118f3ddab29319ff4e88189fd464666"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae118f3ddab29319ff4e88189fd464666">&#9670;&nbsp;</a></span>playFreq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AudioAllocWavetable::playFreq </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>freq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find an available voice and instruct it to play at the specified frequency. </p>
<p>If there are no available voices or this frequency is already being played by another voice, nothing happens.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">freq</td><td>the desired frequency for playback (between 0 and the board-specific sample rate). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a258b2194f7e83367b6784eca4d15bbad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a258b2194f7e83367b6784eca4d15bbad">&#9670;&nbsp;</a></span>playNote()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AudioAllocWavetable::playNote </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>note</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find an available voice and instruct it to play the specified note. </p>
<p>If there are no available voices or this note is already being played by another voice, nothing happens.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">note</td><td>the desired note to be played (between 0 and 127). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4823908b83347d5c4d434923db3acf7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4823908b83347d5c4d434923db3acf7a">&#9670;&nbsp;</a></span>setAmplitude()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AudioAllocWavetable::setAmplitude </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>amp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the amplitude for each voice. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">amp</td><td>A value between 0.0 and 1.0. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa542badceb41b01d7fa68667459acd8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa542badceb41b01d7fa68667459acd8c">&#9670;&nbsp;</a></span>setSamples()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AudioAllocWavetable::setSamples </td>
          <td>(</td>
          <td class="paramtype">sample_data *&#160;</td>
          <td class="paramname"><em>samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_samples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the sample data for each voice. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">samples</td><td>an array of samples from a decoded SoundFont file. </td></tr>
    <tr><td class="paramname">num_samples</td><td>the length of 'samples'. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ada7841b533dec057bda2a0bb81bafabf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada7841b533dec057bda2a0bb81bafabf">&#9670;&nbsp;</a></span>stopFreq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AudioAllocWavetable::stopFreq </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>freq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If a voice is playing at the specified frequency, stop it. </p>
<p>If no such voice exists, do nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">freq</td><td>the desired frequency to stop (between 0 and the board-specific sample rate). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad3deefd0d46c2acb47269f9d3ac5311c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3deefd0d46c2acb47269f9d3ac5311c">&#9670;&nbsp;</a></span>stopNote()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AudioAllocWavetable::stopNote </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>note</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If a voice is playing the specified note, stop it. </p>
<p>If no such voice exists, do nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">note</td><td>the desired note to stop (between 0 and 127). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2337398aa6a7c8ef16646ace2d001630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2337398aa6a7c8ef16646ace2d001630">&#9670;&nbsp;</a></span>voicesPlaying()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t AudioAllocWavetable::voicesPlaying </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the number of voices currently playing (not idle). </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
